<h2 class="welcome-title">Bienvenido al panel de tu hotel 🏨</h2>

<div class="cards-container" *ngIf="stats as s; else loading">
  <div class="card kpi kpi-reservas">
    <div class="icon">📆</div>
    <div class="content">
      <h3>Reservas Totales</h3>
      <p>{{ s.totalReservations }}</p>
    </div>
  </div>

  <div class="card kpi kpi-ocupacion">
    <div class="icon">📊</div>
    <div class="content">
      <h3>Ocupación</h3>
      <p>{{ s.occupancyRate | number: '1.0-2' }}%</p>
    </div>
  </div>

  <div class="card kpi kpi-ingresos">
    <div class="icon">💰</div>
    <div class="content">
      <h3>Ingresos</h3>
      <p>{{ s.totalRevenue | currency: 'USD' }}</p>
    </div>
  </div>

  <div class="card kpi kpi-habs">
    <div class="icon">🛏️</div>
    <div class="content">
      <h3>Habitaciones</h3>
      <p>{{ s.occupiedRooms }} / {{ s.totalRooms }} ({{ s.totalRooms - s.occupiedRooms }} libres)</p>
    </div>
  </div>
</div>

<div class="card resumen-ingresos">
  <h3>Resumen semanal</h3>
  <p>Total: {{ stats?.totalRevenue | currency: 'USD' }}</p>
  <p>Crecimiento: +12% respecto a semana anterior</p> <!-- ⚠️ Cálculo pendiente si lo quieres -->
</div>

<h3 class="section-title">💸 Ingresos recientes</h3>
<app-grafico-reservas [labels]="ingresoLabels" [data]="ingresoSeries" />

<h3 class="section-title">📈 Reservas recientes</h3>
<app-grafico-reservas [labels]="labels" [data]="series" />

<ng-template #loading>
  <p class="loading-text">Cargando estadísticas...</p>
</ng-template>
